{
  "query": "\n-- Add APN field to dealCalculations if it doesn't exist\nALTER TABLE dealCalculations ADD COLUMN apn VARCHAR(50) UNIQUE;\n\n-- Create contactAddresses table if it doesn't exist\nCREATE TABLE IF NOT EXISTS contactAddresses (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  contactId INT NOT NULL,\n  addressLine1 VARCHAR(255) NOT NULL,\n  addressLine2 VARCHAR(255),\n  city VARCHAR(100) NOT NULL,\n  state VARCHAR(2) NOT NULL,\n  zipcode VARCHAR(10) NOT NULL,\n  addressType VARCHAR(50) DEFAULT 'Mailing',\n  isPrimary INT DEFAULT 0 NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (contactId) REFERENCES contacts(id) ON DELETE CASCADE\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2HoMEWBM6m36fKT.7b334260735d --database RDbAfwHQBDqo37pina3pDu --execute \n-- Add APN field to dealCalculations if it doesn't exist\nALTER TABLE dealCalculations ADD COLUMN apn VARCHAR(50) UNIQUE;\n\n-- Create contactAddresses table if it doesn't exist\nCREATE TABLE IF NOT EXISTS contactAddresses (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  contactId INT NOT NULL,\n  addressLine1 VARCHAR(255) NOT NULL,\n  addressLine2 VARCHAR(255),\n  city VARCHAR(100) NOT NULL,\n  state VARCHAR(2) NOT NULL,\n  zipcode VARCHAR(10) NOT NULL,\n  addressType VARCHAR(50) DEFAULT 'Mailing',\n  isPrimary INT DEFAULT 0 NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  FOREIGN KEY (contactId) REFERENCES contacts(id) ON DELETE CASCADE\n);\n",
  "returncode": 1,
  "logs": [
    "ERROR 1146 (42S02) at line 3: Table 'rdbafwhqbdqo37pina3pdu.dealCalculations' doesn't exist"
  ]
}